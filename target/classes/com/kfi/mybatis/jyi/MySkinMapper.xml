<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.kfi.mybatis.jyi.MySkinMapper">

	<sql id="user_num">
		where user_num=#{user_num}
	</sql>

	<select id="getMaxNum_myskin" resultType="int">
		select NVL(count(ms_num),0) from my_skin 
	</select>
	
	<insert id="insert_myskin" parameterType="myskin">
		insert into my_skin values(#{ms_num},#{user_num},#{ms_name},#{ms_color},#{ms_msg},#{ms_using})	
	</insert>
	
	<delete id="delete_myskin" parameterType="int">
		delete from my_skin where ms_num=#{ms_num}
	</delete>
	
	<update id="update_myskin" parameterType="myskin">
		update my_skin set ms_name=#{ms_name}, ms_color=#{ms_color}, ms_msg=#{ms_msg}, ms_using=#{ms_using} where ms_num=#{ms_num}
	</update>

	<select id="getCount_myskin" parameterType="int" resultType="int">
		select NVL(count(ms_num),0) from my_skin <include refid="user_num"/>
	</select>
	

</mapper>