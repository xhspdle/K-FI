<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.kfi.mybatis.dgl.MembersMapper">
	<insert id="join" parameterType="com.kfi.dgl.members.vo.MembersVo">
		insert into members values
		(#{userNum}, #{userId},#{userNickname}, #{userPwd}, #{userEmail}, #{userRegdate},0,0)
	</insert>
	<update id="update" parameterType="com.kfi.dgl.members.vo.MembersVo">
		update members set USER_NICKNAME=#{userNickname}, USER_PWD=#{userPwd}, USER_EMAIL=#{userEmail}
	</update>
	
	<delete id="delete" parameterType="int">
		delete from members where USER_NUM=#{value}
	</delete>
	
	<select id="select" parameterType="int" resultType="com.kfi.dgl.members.vo.MembersVo">
		select * from members where USER_NUM=#{value}
	</select>
	<select id="login" resultType="com.kfi.dgl.members.vo.MembersVo">
		<![CDATA[select USER_NUM, USER_ID, USER_NICKNAME, USER_EMAIL, USER_STATUS from members where USER_ID = #{userId}]]>
	</select>
	
	
	 <!-- <insert id="createKey">
		insert into CERTI_MEMBERS values(#{})
	</insert> -->
	 
	<!--  
	사용자 인증상태 0->1 변경
	<update id=""> 
	 	<![CDATA[update members set USER_CERTI = 1 where (select count(*) from members where USER_EMAIL = #{userEmail}) > 0]]>
	 </update> -->
</mapper>