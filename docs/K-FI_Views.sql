CONN system/admin
GRANT CREATE VIEW TO kifi;

CREATE OR REPLACE VIEW MYBOARDLIST
AS
	SELECT DISTINCT MB.MB_NUM,MB.MB_TITLE,MB.MB_CONTENT,MB.MB_DATE,MB.MB_VIEWS,AA.COMMENT_CNT,MP.MP_NUM,MP.MP_SAVIMG,MV.MV_NUM,MV.MV_SAVVID
	FROM MY_BOARD MB,MY_PHOTO MP,MY_VIDEO MV,
	(
	    SELECT NVL(COUNT(MYC_NUM),0) COMMENT_CNT,MC.MB_NUM NN
	    FROM MY_COMMENT MC,MY_BOARD MBB
	    WHERE MC.MB_NUM=MBB.MB_NUM
	    GROUP BY MC.MB_NUM
	)AA
	WHERE MP.MB_NUM(+)=MB.MB_NUM AND MV.MB_NUM(+)=MB.MB_NUM AND AA.NN(+)=MB.MB_NUM;